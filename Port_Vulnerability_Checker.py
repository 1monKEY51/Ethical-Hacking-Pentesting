
#!/usr/bin/python3

import socket
import sys
import os

# Get the banner  
def getBanner(ip_address,port):  
     try:  
          temp=socket.socket()  
          temp.connect((ip_address,port))  
          banner = temp.recv(1024)  
          print ip_address + ':' + banner  
     except:
          return
 
def vulnScan(banner):  
     if len(sys.argv) &gt;=2:  
          filename = sys.argv[1]  
          for line in filename.readlines():  
               line = line.strip('\n')  
               if banner in line:  
                    print(f'vulnerable banner') 
               else:  
                    print(f'banner is not vulnerable')

def main():  
     portList = [21,22,25,80,110,3389]  
     for address in range(0,255):  
          for port in portList:  
               ip_address = '192.168.0.' + str(address)  
               getBanner(ip_address,port)

if __name__ == '__main__':  
      main()
